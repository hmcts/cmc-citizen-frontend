{% from "internalLink.njk" import internalLink %}

{% macro paidInFullClaimantClaimDetails(claim) %}
  <h2 class="heading-small">{{ t('Settling the claim') }}</h2>
    <p>{{ t('If the defendant has paid you, ' + internalLink('you need to tell us', DashboardPaths.datePaidPage.evaluateUri({ externalId: claim.externalId })) + '.') | safe }}</p>
{% endmacro %}

{% macro paidInFullClaimantButtonClaimDetails(claim, text='Tell us you’ve settled') %}
  {% if featureToggles.paidInFull %}
    <div class="form-group">
      <p>{{ internalLink(text, DashboardPaths.datePaidPage.evaluateUri({ externalId: claim.externalId }), "button button-secondary") | safe }}</p>
    </div>
    {% else %}
      <div class="form-group">
        <p>{{ internalLink(text, AppPaths.contactUsPage.uri, "button button-secondary") | safe }}</p>
      </div>
  {% endif %}
{% endmacro %}

{% macro paidInFullClaimantDashboard(claim) %}
  {{ t('This claim is settled.') }}
{% endmacro %}

{% macro paidInFullClaimantClaimSettledDetails(claim) %}
  <h2 class="heading-small">{{ t('This claim is settled') }}</h2>
  <p>{{ t('{{ defendantName }} paid you £{{ totalAmountTillToday }} on {{ moneyReceivedOn }}.',
      { defendantName: claim.claimData.defendant.name, totalAmountTillToday: claim.totalAmountTillToday,
        moneyReceivedOn: claim.moneyReceivedOn | date }) }}</p>
{% endmacro %}

{% macro paidInFullCCJCancelledClaimantClaimDetails(claim) %}
  {{ paidInFullClaimantClaimSettledDetails(claim) }}
  <p>{{ t('The defendant’s County Court Judgment has been cancelled.') }}</p>
{% endmacro %}

{% macro paidInFullCCJSatisfiedClaimantClaimDetails(claim) %}
  {{ paidInFullClaimantClaimSettledDetails(claim) }}
  <p>{{ t('The defendant’s County Court Judgment has been marked as paid.') }}</p>
{% endmacro %}
