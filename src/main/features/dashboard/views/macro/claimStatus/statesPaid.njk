{% from "externalLink.njk" import externalLink %}

{% macro paidAmountForClaimantDashboard(claim) %}
  {{ t('The defendant believes that they’ve paid the claim in full.') }}
{% endmacro %}

{% macro paidAmountForClaimantClaimDetails(claim) %}
  <h2 class="heading-small">{{ t('The defendant’s response') }}</h2>
  <p>
    {{ t('{{ defendantName }} says they paid you {{ amount }} on {{ paymentDate }}.',
      { defendantName: claim.claimData.defendant.name,
        amount: claim.response.amount | numeral,
        paymentDate: claim.response.paymentDeclaration.paidDate | date }) }}
  </p>
  <p> {{ t('You can accept or reject this response.') }}</p>
  <p>
    {{ t('You need to respond before 4pm on {{ respondDate }} or your claim won’t proceed.', { respondDate: claim.respondToResponseDeadline | date}) }}
  </p>
  {{ _respond(claim, 'Respond') }}
{% endmacro %}

{% macro paidAmountForDefendantDashboard(claim) %}
  {{ t('We’ve emailed {{ claimantName }} telling them when and how you said you paid the claim.',
    { claimantName: claim.claimData.claimant.name }) }}
{% endmacro %}

{% macro paidAmountForDefendantClaimDetails(claim) %}
  <h2 class="heading-small">{{ t('Your response to the claim') }}</h2>
  <p>
    {{ t('We’ve emailed {{ claimantName }} telling them when and how you said you paid the claim.',
      { claimantName: claim.claimData.claimant.name }) }}
  </p>
  <p>
    {{ t('We’ll contact you to let you know how they respond. They can confirm you’ve paid and the claim is ' +
      'settled, or they can proceed with it.') }}
  </p>
  <p>
    {{ _downloadResponseLink(claim) }}
  </p>
{% endmacro %}

{% macro paidLessThanClaimedForClaimantDashboard(claim) %}
  {{ t('The defendant believes they owe you {{ amount }}. You can accept or reject that this is the amount owed.',
    { amount: claim.response.amount | numeral }) }}
{% endmacro %}

{% macro _downloadResponseLink(claim) %}
  <a href="{{ ResponsePaths.receiptReceiver.evaluateUri({ externalId: claim.externalId }) }}">
  {{ t('Download your response') }}</a>{{ t(' (PDF)') }}
{% endmacro %}

{% macro _respond(claim, text) %}
  <p>
    <a href='{{ ClaimantResponsePaths.taskListPage.evaluateUri
      ({ externalId: claim.externalId }) }}' class="button button-secondary">{{ t(text) }}
    </a>
  </p>
{% endmacro %}
