{% from "./paymentPlanTable.njk" import paymentPlanTable %}

{% macro repaymentPlanBlock(heading, repaymentPlan, paymentPlan) %}
  {% if heading %}
    <h2 class="heading-medium">{{ t(heading) }}</h2>
  {% endif %}

  {{ paymentPlanTable(
    id = 'payment-table',
    instalmentAmount = repaymentPlan.instalmentAmount,
    paymentSchedule = repaymentPlan.paymentSchedule,
    firstPaymentDate = repaymentPlan.firstPaymentDate,
    lastPaymentOn = paymentPlan.calculateLastPaymentDate(),
    lengthOfPayment = paymentPlan.calculatePaymentLength()
  )
  }}
{% endmacro %}
